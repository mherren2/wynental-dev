(()=>{const t=function(){if("platform"===this._env)return;const t=window.location.hostname,i="preview"===this._env?`${t}/${(()=>{const t=window.location.pathname;return"users"===t.split("/")[1]?t.split("/")[2]:t.split("/")[1]})()}`:t;this._scriptRequest=new XMLHttpRequest,this._scriptRequest.open("POST",`${window.location.protocol}//${i}/swfiles/lib/privacycookie.php?${(t=>{let o="";return Object.entries(t).forEach((t,e)=>{const[i,s]=[t[0],t[1]];o+=`${i}=${s}&`}),o})(this._cookies)}`,!0),this._scriptRequest.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this._scriptRequest.send(),this._scriptRequest.onreadystatechange=function(){4==this._scriptRequest.readyState&&200===this._scriptRequest.status&&(this.isFirstVisit&&!1===this.opts.forceReload?o.call(this):e.call(this))}.bind(this)},o=function(){if("platform"===this._env)return;const t=document.getElementsByTagName("head")[0],o=document.getElementsByTagName("body")[0],e=JSON.parse(this._scriptRequest.response);e.hasOwnProperty("script")&&e.script.forEach(e=>{const i=document.createElement("div"),s=document.createElement("script");switch(i.innerHTML=e.scriptdata,s.type="text/javascript",s.text=i.firstChild.innerText,i.remove(),e.position){case"header":t.appendChild(s);break;case"start body":o.insertBefore(s,o.firstChild);break;case"end body":o.appendChild(s);break;default:t.appendChild(s)}})},e=function(){"platform"!==this._env&&window.location.reload()},i=function(){this.modal.hasAttribute("data-cookie-groups-object")&&(this.modal.style.display="none",this.cookieGroupList=this.modal.querySelector(this.opts.cookieGroupListSelector),this.cookieAcceptBtn=this.modal.querySelector(this.opts.cookieAcceptBtnSelector),this.cookieDeclineBtn=this.modal.querySelector(this.opts.cookieDeclineBtnSelector),this.banner=this.wrapper.querySelector(this.opts.cookieBannerSelector),this.banner&&(this.banner.style.display="none",this.cookiePrefenceBtn=this.banner.querySelector(this.opts.cookiePrefenceBtnSelector),this.cookieAcceptAllBtn=this.banner.querySelector(this.opts.cookieAcceptAllBtnSelector)),this._cookieGroupsData=JSON.parse(this.modal.dataset.cookieGroupsObject).group,this.modal.removeAttribute("data-cookie-groups-object"),this._cookieGroupsData.forEach((t,o)=>{this.cookieGroups[o]={},this.cookieGroups[o].groupNode=document.createElement("div"),this.cookieGroups[o].groupNode.classList.add("s-cookie__group"),this.cookieGroups[o].groupActions=document.createElement("div"),this.cookieGroups[o].groupActions.classList.add("s-group__actions"),this.cookieGroups[o].groupTitle=document.createElement("div"),this.cookieGroups[o].groupTitle.classList.add("s-group__title"),this.cookieGroups[o].groupTitle.innerHTML=t.label+'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 7.4" width="12" height="7.4" preserveAspectRatio="none"><path d="M1.4,0L6,4.6L10.6,0L12,1.4l-6,6l-6-6L1.4,0z"/></svg>',this.cookieGroups[o].groupSwitch=document.createElement("button"),this.cookieGroups[o].groupSwitch.classList.add("s-btn--reset","s-switch"),this.cookieGroups[o].groupSwitch.setAttribute("aria-label","Toggle cookie compliance"),this.cookieGroups[o].groupSwitch.dataset.groupVariable=t.variable,this.cookieGroups[o].groupSwitchIndicator=document.createElement("span"),this.cookieGroups[o].groupSwitchIndicator.classList.add("s-switch__indicator"),this.cookieGroups[o].groupAccordion=document.createElement("div"),this.cookieGroups[o].groupAccordion.classList.add("s-group__accordion"),this.cookieGroups[o].groupInfo=document.createElement("div"),this.cookieGroups[o].groupInfo.classList.add("s-group__info"),this.cookieGroups[o].groupInfo.innerHTML=t.description,this.cookieGroupList.append(this.cookieGroups[o].groupNode),this.cookieGroups[o].groupNode.append(this.cookieGroups[o].groupActions),this.cookieGroups[o].groupNode.append(this.cookieGroups[o].groupAccordion),this.cookieGroups[o].groupActions.append(this.cookieGroups[o].groupTitle),this.cookieGroups[o].groupActions.append(this.cookieGroups[o].groupSwitch),this.cookieGroups[o].groupAccordion.append(this.cookieGroups[o].groupInfo),this.cookieGroups[o].groupSwitch.append(this.cookieGroups[o].groupSwitchIndicator),this.cookieGroups[o].groupSwitchIndicator.style.width=(t=>{const o=window.getComputedStyle(t,null);return`${parseFloat(o.height)-(parseFloat(o.paddingTop)+parseFloat(o.paddingBottom))-((parseFloat(o.borderTopWidth)||0)+(parseFloat(o.borderBottomWidth)||0))}px`})(this.cookieGroups[o].groupSwitch),-1!==this.opts.forceGroups.indexOf(t.variable)?this.cookieGroups[o].groupSwitch.classList.add("s-disabled","s-active"):(this._localCookies.hasOwnProperty(t.variable)||this.opts.enableAll&&this.isFirstVisit||this.opts.enableAll&&"platform"===this._env)&&this.cookieGroups[o].groupSwitch.classList.add("s-active")}))},s=function(){this.save.call(this),this.close.call(this)},c=function(){this.reset.call(this),this.save.call(this),this.close.call(this)},r=function(t){const o=t.target.classList.contains("s-switch__indicator")?t.target.parentElement:t.target;this._cookies[o.dataset.groupVariable]=0===this._cookies[o.dataset.groupVariable]?1:0,o.classList.toggle("s-active")},n=function(t){const o=t.target.closest(".s-cookie__group"),e=t.target,i=o.querySelector(".s-group__accordion");e.classList.toggle("s-active"),i.classList.toggle("s-active"),i.style.maxHeight?i.style.maxHeight=null:i.style.maxHeight=`${i.scrollHeight}px`},a=function(t){this.banner.style.display="none",this.modal.style.display="block"},l=function(t){this.acceptAll.call(this),this.close.call(this)};function p(t){SM_Modal.call(this,t),this.modal&&(Object.assign(this.opts,{cookieGroupListSelector:"[data-sm-cookie-groups]",cookieAcceptBtnSelector:"[data-sm-cookie-accept]",cookieDeclineBtnSelector:"[data-sm-cookie-decline]",cookieBannerSelector:"[data-sm-cookie-banner]",cookiePrefenceBtnSelector:"[data-sm-cookie-settings]",cookieAcceptAllBtnSelector:"[data-sm-cookie-accept-all]",forceGroups:["privacy_cookie_1"],forceReload:!1,enableAll:!1},t),this.cookieGroups=[],this.isFirstVisit=!1,this.mount())}p.prototype=Object.create(SM_Modal.prototype),p.prototype.mount=function(){(function(){const t=document.cookie.split("; ").reduce((t,o)=>{const[e,i]=o.split("=");return t[e]=i,t},{});this._localCookies={};for(let o in t)t.hasOwnProperty(o)&&o.includes("privacy_cookie")&&(this._localCookies[o]=1)}).call(this),function(){this._localCookies.hasOwnProperty("privacy_cookie")||(this.isFirstVisit=!0)}.call(this),i.call(this),function(){this._defaultCookies={},"platform"===this._env&&(this._defaultCookies.privacy_cookie=1),this._cookieGroupsData.forEach(t=>{this._defaultCookies[t.variable]=this.opts.enableAll&&this.isFirstVisit?1:0}),this.opts.forceGroups.forEach(t=>{this._defaultCookies.hasOwnProperty(t)&&(this._defaultCookies[t]=1)}),this._cookies=Object.assign({},this._defaultCookies,this._localCookies)}.call(this),function(){Object.assign(this._events,{clickAcceptBtn:s.bind(this),clickDeclineBtn:c.bind(this),clickSwitchBtn:r.bind(this),clickGroupTitle:n.bind(this),clickAcceptAllBtn:l.bind(this),clickPreferenceBtn:a.bind(this)}),0!==this.cookieGroups.length&&this.cookieGroups.forEach(t=>{t.groupSwitch.addEventListener("click",this._events.clickSwitchBtn),t.groupTitle.addEventListener("click",this._events.clickGroupTitle)}),this.cookieAcceptBtn&&this.cookieAcceptBtn.addEventListener("click",this._events.clickAcceptBtn),this.cookieDeclineBtn&&this.cookieDeclineBtn.addEventListener("click",this._events.clickDeclineBtn),this.cookiePrefenceBtn&&this.cookiePrefenceBtn.addEventListener("click",this._events.clickPreferenceBtn),this.cookieAcceptAllBtn&&this.cookieAcceptAllBtn.addEventListener("click",this._events.clickAcceptAllBtn)}.call(this),function(){"platform"!==this._env&&(this.opts.showOnLoad||this.isFirstVisit)&&setTimeout(()=>{this.wrapper.style.display="flex",this.banner?this.banner.style.display="flex":this.modal.style.display="block"},this.opts.delay)}.call(this),function(){this.opts.designMode&&"platform"===this._env&&(this.wrapper.style.display="flex",this.banner?this.banner.style.display="flex":this.modal.style.display="block")}.call(this)},p.prototype.open=function(){document.body.classList.add("s-modal--open"),this.wrapper.style.display="flex",this.modal.style.display="block"},p.prototype.reset=function(){this.cookieGroups.forEach(t=>{t.groupSwitch.classList.contains("s-disabled")||t.groupSwitch.classList.remove("s-active")}),Object.keys(this._cookies).forEach(t=>{-1===this.opts.forceGroups.indexOf(t)&&(this._cookies[t]=0)})},p.prototype.save=function(){t.call(this)},p.prototype.acceptAll=function(){for(let t in this._cookies)this._cookies[t]=1;this.cookieGroups.forEach(t=>{t.groupSwitch.classList.add("s-active")}),t.call(this)},window.SM_CookiesModal=p})();